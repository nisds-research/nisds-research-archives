<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NISDS Research Archive</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #f5f5f5;
      color: #333;
      padding: 2rem;
    }
    .container {
      max-width: 800px;
      margin: auto;
      background: white;
      padding: 2rem;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      border-radius: 8px;
    }
    h1, h2 {
      text-align: center;
    }
    .search-bar {
      margin-bottom: 2rem;
      text-align: center;
    }
    input[type="text"], input[type="password"] {
      padding: 0.5rem;
      width: 60%;
      font-size: 1rem;
    }
    button {
      padding: 0.5rem 1rem;
      font-size: 1rem;
      cursor: pointer;
    }
    .result {
      border-top: 1px solid #ccc;
      margin-top: 1rem;
      padding-top: 1rem;
    }
    .metadata {
      font-size: 0.9rem;
      color: #555;
    }
    a.download {
      display: inline-block;
      margin-top: 1rem;
      padding: 0.5rem 1rem;
      background-color: #004466;
      color: white;
      text-decoration: none;
      border-radius: 5px;
    }
    a.download:hover {
      background-color: #006699;
    }
    #timer {
      text-align: center;
      font-weight: bold;
      margin-top: 1rem;
      color: red;
    }
  </style>
</head>
<body>
  <audio id="errorSound" src="https://www.soundjay.com/button/beep-07.wav" preload="auto"></audio>
  <div class="container" id="authContainer">
    <h1>Secure Access Required</h1>
    <p style="text-align:center">Enter access password to continue:</p>
    <form onsubmit="checkPassword(); return false;">
      <div class="search-bar">
        <input type="password" id="passwordInput" placeholder="Enter password...">
        <button type="submit">Enter</button>
      </div>
    </form>
  </div>

  <div class="container" id="mainInterface" style="display:none;">
    <h1>Northbridge Institute Research Archive</h1>
    <form onsubmit="showResults(); return false;">
      <div class="search-bar">
        <input type="text" id="search" placeholder="Search Research Archive...">
        <button type="submit">Search</button>
      </div>
    </form>

    <div id="results" style="display:none;"></div>
    <div id="timer"></div>
  </div>

  <script>
    const correctPassword = "DeltaTangoPW22";
    let countdown;
    let loginAttempts = 0;

    function checkPassword() {
      const input = document.getElementById('passwordInput').value.trim();
      console.log("Password entered:", input);
      if (input === correctPassword) {
        document.getElementById('authContainer').style.display = 'none';
        document.getElementById('mainInterface').style.display = 'block';
        startTimer();
      } else {
        loginAttempts++;
        document.getElementById('errorSound').play();
        alert(`Incorrect password. Attempt ${loginAttempts}. Access denied.`);
        if (loginAttempts >= 3) {
          alert("Maximum attempts exceeded. Session terminated.");
          location.reload();
        }
      }
    }

    function showResults() {
      const query = document.getElementById('search').value.toLowerCase();
      const resultsDiv = document.getElementById('results');
      const knownTopics = [
        'cryo-quantum displacement',
        'polar biology',
        'quantum mechanics',
        'espionage',
        'thermal resonance',
        'moss studies',
        'displacement fields'
      ];

      const match = knownTopics.find(topic => query.includes(topic));

      if (match === 'cryo-quantum displacement') {
        resultsDiv.style.display = 'block';
        resultsDiv.innerHTML = `<h2>Search Results</h2>
          <div class="result">
            <h3>Cryo-Quantum Displacement in Polar Environments</h3>
            <div class="metadata">
              <p><strong>Author:</strong> Dr. Marla Keyes</p>
              <p><strong>Date:</strong> 2020-09-13 (Retracted)</p>
              <p><strong>Tags:</strong> Polar biology, Cryogenics, <strong>ALPHA-SIX</strong>, Displacement, Espionage</p>
              <p><strong>DOI:</strong> 10.1910/NISDS/2443X-KLL-PINECODE</p>
              <p><strong>Summary:</strong> Study explores theoretical uses of cryo-energy fields to displace mass. Analysis includes non-conventional field geometries...</p>
            </div>
            <a href="Cryo_Quantum_Displacement_Document.pdf" class="download" download>Download PDF</a>
          </div>`;
      } else if (match) {
        resultsDiv.style.display = 'block';
        resultsDiv.innerHTML = `<h2>Search Results</h2>
          <div class="result">
            <h3>${match.charAt(0).toUpperCase() + match.slice(1)} â€” <span style='color:red;'>REDACTED</span></h3>
            <div class="metadata">
              <p><strong>Note:</strong> This document is classified. Clearance level insufficient.</p>
              <p><strong>Status:</strong> <span style='color:red;'>REDACTED</span></p>
            </div>
            <div style="margin-top: 1rem; border: 2px solid #000; width: 100%; height: 200px; background: repeating-linear-gradient(45deg, black 0, black 10px, transparent 10px, transparent 20px); text-align: center; display: flex; align-items: center; justify-content: center; color: red; font-weight: bold;">
              DOCUMENT PREVIEW REDACTED
            </div>
          </div>`;
      } else {
        alert('No results found. Try refining your search.');
        resultsDiv.style.display = 'none';
      }
    }

    function startTimer() {
      let timeLeft = 30;
      const timerDisplay = document.getElementById('timer');
      countdown = setInterval(() => {
        timeLeft--;
        timerDisplay.textContent = `Session ends in ${timeLeft} seconds...`;
        if (timeLeft <= 0) {
          clearInterval(countdown);
          alert("Session expired. You have been logged out.");
          location.reload();
        }
      }, 1000);
    }
  </script>
</body>
</html>
